// $Rev: 6141 $ $Date: 2014-09-03 12:26:38 +0100 (Wed, 03 Sep 2014) $ $Author: jan $
(function(a){var l;try{l="string"==typeof a("body").css("background-position-x")}catch(A){l=!1}a._spritely={animate:function(b){var d=a(b.el),c=d.attr("id");if(!a._spritely.instances[c])return this;b=a.extend(b,a._spritely.instances[c]||{});if("sprite"==b.type&&b.fps){b.play_frames&&!a._spritely.instances[c].remaining_frames?a._spritely.instances[c].remaining_frames=b.play_frames+1:b.do_once&&!a._spritely.instances[c].remaining_frames&&(a._spritely.instances[c].remaining_frames=b.no_of_frames);var e,
f=function(d){var f=b.width;if(!e){e=[];for(var t=total=0;t<b.no_of_frames;t++)e[e.length]=0-total,total+=f}if(0==a._spritely.instances[c].current_frame){if(b.on_first_frame)b.on_first_frame(d)}else if(a._spritely.instances[c].current_frame==e.length-1&&b.on_last_frame)b.on_last_frame(d);if(b.on_frame&&b.on_frame[a._spritely.instances[c].current_frame])b.on_frame[a._spritely.instances[c].current_frame](d);a._spritely.instances[c].current_frame=!0==b.rewind?0>=a._spritely.instances[c].current_frame?
e.length-1:a._spritely.instances[c].current_frame-1:a._spritely.instances[c].current_frame>=e.length-1?0:a._spritely.instances[c].current_frame+1;f=a._spritely.getBgY(d);d.css("background-position",e[a._spritely.instances[c].current_frame]+"px "+f);if(b.bounce&&0<b.bounce[0]&&0<b.bounce[1]){var f=b.bounce[0],t=b.bounce[1],u=b.bounce[2];d.animate({top:"+="+f+"px",left:"-="+t+"px"},u).animate({top:"-="+f+"px",left:"+="+t+"px"},u)}};if(a._spritely.instances[c].remaining_frames&&0<a._spritely.instances[c].remaining_frames){a._spritely.instances[c].remaining_frames--;
if(0==a._spritely.instances[c].remaining_frames)return a._spritely.instances[c].remaining_frames=-1,delete a._spritely.instances[c].remaining_frames,this;f(d)}else-1!=a._spritely.instances[c].remaining_frames&&f(d)}else if("pan"==b.type&&!a._spritely.instances[c]._stopped){var f=b.speed||1,k=a._spritely.instances[c].l||parseInt(a._spritely.getBgX(d).replace("px",""),10)||0,r=a._spritely.instances[c].t||parseInt(a._spritely.getBgY(d).replace("px",""),10)||0;if(b.do_once&&!a._spritely.instances[c].remaining_frames||
0>=a._spritely.instances[c].remaining_frames){switch(b.dir){case "up":case "down":a._spritely.instances[c].remaining_frames=Math.floor((b.img_height||0)/f);break;case "left":case "right":a._spritely.instances[c].remaining_frames=Math.floor((b.img_width||0)/f)}a._spritely.instances[c].remaining_frames++}else b.do_once&&a._spritely.instances[c].remaining_frames--;switch(b.dir){case "up":f*=-1;case "down":a._spritely.instances[c].l||(a._spritely.instances[c].l=k);a._spritely.instances[c].t=r+f;b.img_height&&
(a._spritely.instances[c].t%=b.img_height);break;case "left":f*=-1;case "right":a._spritely.instances[c].t||(a._spritely.instances[c].t=r),a._spritely.instances[c].l=k+f,b.img_width&&(a._spritely.instances[c].l%=b.img_width)}f=a._spritely.instances[c].l.toString();f=-1==f.indexOf("%")?f+"px ":f+" ";k=a._spritely.instances[c].t.toString();k=-1==k.indexOf("%")?k+"px ":k+" ";a(d).css("background-position",f+k);if(b.do_once&&!a._spritely.instances[c].remaining_frames)return this}a._spritely.instances[c].options=
b;a._spritely.instances[c].timeout=window.setTimeout(function(){a._spritely.animate(b)},parseInt(1E3/b.fps))},randomIntBetween:function(a,d){return parseInt(rand_no=Math.floor((d-(a-1))*Math.random())+a)},getBgUseXY:l,getBgY:function(b){return a._spritely.getBgUseXY?a(b).css("background-position-y")||"0":(a(b).css("background-position")||" ").split(" ")[1]},getBgX:function(b){return a._spritely.getBgUseXY?a(b).css("background-position-x")||"0":(a(b).css("background-position")||" ").split(" ")[0]},
get_rel_pos:function(a,d){var c=a;if(0>a)for(;0>c;)c+=d;else for(;c>d;)c-=d;return c},_spStrip:function(a,d){for(;a.length;){var c,e,f=!1,k=!1;for(c=0;c<d.length;c++){var r=a.slice(0,1);e=a.slice(1);-1<d.indexOf(r)?a=e:f=!0}for(c=0;c<d.length;c++)r=a.slice(-1),e=a.slice(0,-1),-1<d.indexOf(r)?a=e:k=!0;if(f&&k)return a}return""}};a.fn.extend({spritely:function(b){var d=a(this),c=d.attr("id"),e=new Image,f=a._spritely._spStrip(d.css("background-image")||"",'url("); ');e.onload=function(){b=a.extend({type:"sprite",
do_once:!1,width:null,height:null,img_width:0,img_height:0,fps:12,no_of_frames:2,play_frames:0},b||{});b.img_width=e.width;b.img_height=e.height;b.img=e;a._spritely.instances||(a._spritely.instances={});a._spritely.instances[c]||(a._spritely.instances[c]=b.start_at_frame?{current_frame:b.start_at_frame-1}:{current_frame:-1});a._spritely.instances[c].type=b.type;a._spritely.instances[c].depth=b.depth;b.el=d;b.width=b.width||d.width()||100;b.height=b.height||d.height()||100;b.do_once?setTimeout(function(){a._spritely.animate(b)},
0):setTimeout(function(){a._spritely.animate(b)},parseInt(1E3/b.fps))};e.src=f;return this},sprite:function(b){b=a.extend({type:"sprite",bounce:[0,0,1E3]},b||{});return a(this).spritely(b)},pan:function(b){b=a.extend({type:"pan",dir:"left",continuous:!0,speed:1},b||{});return a(this).spritely(b)},flyToTap:function(b){b=a.extend({el_to_move:null,type:"moveToTap",ms:1E3,do_once:!0},b||{});b.el_to_move&&a(b.el_to_move).active();a._spritely.activeSprite&&(window.Touch?a(this)[0].ontouchstart=function(b){var c=
a._spritely.activeSprite,e=b.touches[0];b=e.pageY-c.height()/2;e=e.pageX-c.width()/2;c.animate({top:b+"px",left:e+"px"},1E3)}:a(this).click(function(b){var c=a._spritely.activeSprite;a(c).stop(!0);var e=c.width(),f=c.height();c.animate({top:b.pageY-f/2+"px",left:b.pageX-e/2+"px"},1E3)}));return this},isDraggable:function(b){if(!a(this).draggable)return this;b=a.extend({type:"isDraggable",start:null,stop:null,drag:null},b||{});var d=a(this).attr("id");if(!a._spritely.instances[d])return this;a._spritely.instances[d].isDraggableOptions=
b;a(this).draggable({start:function(){var b=a(this).attr("id");a._spritely.instances[b].stop_random=!0;a(this).stop(!0);a._spritely.instances[b].isDraggableOptions.start&&a._spritely.instances[b].isDraggableOptions.start(this)},drag:b.drag,stop:function(){var b=a(this).attr("id");a._spritely.instances[b].stop_random=!1;a._spritely.instances[b].isDraggableOptions.stop&&a._spritely.instances[b].isDraggableOptions.stop(this)}});return this},active:function(){a._spritely.activeSprite=this;return this},
activeOnClick:function(){var b=a(this);window.Touch?b[0].ontouchstart=function(d){a._spritely.activeSprite=b}:b.click(function(d){a._spritely.activeSprite=b});return this},spRandom:function(b){b=a.extend({top:50,left:50,right:290,bottom:320,speed:4E3,pause:0},b||{});var d=a(this).attr("id");if(!a._spritely.instances[d])return this;if(!a._spritely.instances[d].stop_random){var c=a._spritely.randomIntBetween,e=c(b.top,b.bottom),c=c(b.left,b.right);a("#"+d).animate({top:e+"px",left:c+"px"},b.speed)}window.setTimeout(function(){a("#"+
d).spRandom(b)},b.speed+b.pause);return this},makeAbsolute:function(){return this.each(function(){var b=a(this),d=b.position();b.css({position:"absolute",marginLeft:0,marginTop:0,top:d.top,left:d.left}).remove().appendTo("body")})},spSet:function(b,d){var c=a(this).attr("id");a._spritely.instances[c][b]=d;return this},spGet:function(b,d){var c=a(this).attr("id");return a._spritely.instances[c][b]},spStop:function(b){this.each(function(){var d=a(this),c=d.attr("id");a._spritely.instances[c].options.fps&&
(a._spritely.instances[c]._last_fps=a._spritely.instances[c].options.fps);"sprite"==a._spritely.instances[c].type&&d.spSet("fps",0);a._spritely.instances[c]._stopped=!0;if(a._spritely.instances[c]._stopped_f1=b)c=a._spritely.getBgY(a(this)),d.css("background-position","0 "+c)});return this},spStart:function(){a(this).each(function(){var b=a(this).attr("id"),d=a._spritely.instances[b]._last_fps||12;"sprite"==a._spritely.instances[b].type&&a(this).spSet("fps",d);a._spritely.instances[b]._stopped=!1});
return this},spToggle:function(){var b=a(this).attr("id"),d=a._spritely.instances[b]._stopped_f1||!1;a._spritely.instances[b]._stopped?a(this).spStart():a(this).spStop(d);return this},fps:function(b){a(this).each(function(){a(this).spSet("fps",b)});return this},goToFrame:function(b){var d=a(this).attr("id");a._spritely.instances&&a._spritely.instances[d]&&(a._spritely.instances[d].current_frame=b-1);return this},spSpeed:function(b){a(this).each(function(){a(this).spSet("speed",b)});return this},spRelSpeed:function(b){a(this).each(function(){var d=
a(this).spGet("depth")/100;a(this).spSet("speed",b*d)});return this},spChangeDir:function(b){a(this).each(function(){a(this).spSet("dir",b)});return this},spState:function(b){a(this).each(function(){var d=(b-1)*a(this).height()+"px",d=a._spritely.getBgX(a(this))+" -"+d;a(this).css("background-position",d)});return this},lockTo:function(b,d){a(this).each(function(){var c=a(this).attr("id");if(!a._spritely.instances[c])return this;a._spritely.instances[c].locked_el=a(this);a._spritely.instances[c].lock_to=
a(b);a._spritely.instances[c].lock_to_options=d;a._spritely.instances[c].interval=window.setInterval(function(){if(a._spritely.instances[c].lock_to){var b=a._spritely.instances[c].locked_el,d=a._spritely.instances[c].lock_to,k=a._spritely.instances[c].lock_to_options,r=k.bg_img_width;d.height();var l=a._spritely.getBgY(d),d=a._spritely.getBgX(d),d=parseInt(d)+parseInt(k.left),k=parseInt(l)+parseInt(k.top),d=a._spritely.get_rel_pos(d,r);a(b).css({top:k+"px",left:d+"px"})}},d.interval||20)});return this},
destroy:function(){a(this);var b=a(this).attr("id");a._spritely.instances[b]&&a._spritely.instances[b].timeout&&window.clearTimeout(a._spritely.instances[b].timeout);a._spritely.instances[b]&&a._spritely.instances[b].interval&&window.clearInterval(a._spritely.instances[b].interval);delete a._spritely.instances[b];return this}})})(jQuery);try{document.execCommand("BackgroundImageCache",!1,!0)}catch(err){}
(function(a){function l(a){a=parseInt(a,10).toString(16);return 2>a.length?"0"+a:a}function A(b){for(;b;){var c=a.css(b,"backgroundColor");if(c&&"transparent"!=c&&"rgba(0, 0, 0, 0)"!=c)return 0<=c.indexOf("rgb")?(b=c.match(/\d+/g),"#"+l(b[0])+l(b[1])+l(b[2])):c;if("html"==b.nodeName.toLowerCase())break;b=b.parentNode}return"#ffffff"}function b(a,b,c){switch(a){case "round":return Math.round(c*(1-Math.cos(Math.asin(b/c))));case "cool":return Math.round(c*(1+Math.cos(Math.asin(b/c))));case "sharp":return c-
b;case "bite":return Math.round(c*Math.cos(Math.asin((c-b-1)/c)));case "slide":return Math.round(c*Math.atan2(b,c/b));case "jut":return Math.round(c*Math.atan2(c,c-b-1));case "curl":return Math.round(c*Math.atan(b));case "tear":return Math.round(c*Math.cos(b));case "wicked":return Math.round(c*Math.tan(b));case "long":return Math.round(c*Math.sqrt(b));case "sculpt":return Math.round(c*Math.log(c-b-1,c));case "dogfold":case "dog":return b&1?b+1:c;case "dog2":return b&2?b+1:c;case "dog3":return b&3?
b+1:c;case "fray":return b%2*c;case "notch":return c;case "bevelfold":case "bevel":return b+1;case "steep":return b/2+1;case "invsteep":return(c-b)/2+1}}var d=/MSIE/.test(navigator.userAgent),c=document.createElement("div").style,e=void 0!==c.MozBorderRadius,f=void 0!==c.WebkitBorderRadius,k=void 0!==c.borderRadius||void 0!==c.BorderRadius,c=document.documentMode||0,r=d&&(!c||8>c),B=d&&function(){var a=document.createElement("div");try{a.style.setExpression("width","0+0"),a.style.removeExpression("width")}catch(b){return!1}return!0}();
a.support=a.support||{};a.support.borderRadius=e||f||k;a.fn.corner=function(c){if(0===this.length){if(!a.isReady&&this.selector){var l=this.selector,u=this.context;a(function(){a(l,u).corner(c)})}return this}return this.each(function(m){var l,t,u,y,p=a(this),h=[p.attr(a.fn.corner.defaults.metaAttr)||"",c||""].join(" ").toLowerCase(),z=/keep/.test(h),n=(h.match(/cc:(#[0-9a-f]+)/)||[])[1];l=(h.match(/sc:(#[0-9a-f]+)/)||[])[1];m=parseInt((h.match(/(\d+)px/)||[])[1],10)||10;var C=(h.match(/round|bevelfold|bevel|notch|bite|cool|sharp|slide|jut|curl|tear|fray|wicked|sculpt|long|dog3|dog2|dogfold|dog|invsteep|steep/)||
["round"])[0],E=/dogfold|bevelfold/.test(h),D={T:0,B:1},h={TL:/top|tl|left/.test(h),TR:/top|tr|right/.test(h),BL:/bottom|bl|left/.test(h),BR:/bottom|br|right/.test(h)},w,s,g,q,x,v;h.TL||(h.TR||h.BL||h.BR)||(h={TL:1,TR:1,BL:1,BR:1});if(a.fn.corner.defaults.useNative&&"round"==C&&(k||e||f)&&!n&&!l)h.TL&&p.css(k?"border-top-left-radius":e?"-moz-border-radius-topleft":"-webkit-border-top-left-radius",m+"px"),h.TR&&p.css(k?"border-top-right-radius":e?"-moz-border-radius-topright":"-webkit-border-top-right-radius",
m+"px"),h.BL&&p.css(k?"border-bottom-left-radius":e?"-moz-border-radius-bottomleft":"-webkit-border-bottom-left-radius",m+"px"),h.BR&&p.css(k?"border-bottom-right-radius":e?"-moz-border-radius-bottomright":"-webkit-border-bottom-right-radius",m+"px");else for(w in p=document.createElement("div"),a(p).css({overflow:"hidden",height:"1px",minHeight:"1px",fontSize:"1px",backgroundColor:l||"transparent",borderStyle:"solid"}),l=parseInt(a.css(this,"paddingTop"),10)||0,t=parseInt(a.css(this,"paddingRight"),
10)||0,u=parseInt(a.css(this,"paddingBottom"),10)||0,y=parseInt(a.css(this,"paddingLeft"),10)||0,void 0!==typeof this.style.zoom&&(this.style.zoom=1),z||(this.style.border="none"),p.style.borderColor=n||A(this.parentNode),z=a(this).outerHeight(),D)if((n=D[w])&&(h.BL||h.BR)||!n&&(h.TL||h.TR)){p.style.borderStyle="none "+(h[w+"R"]?"solid":"none")+" none "+(h[w+"L"]?"solid":"none");s=document.createElement("div");a(s).addClass("jquery-corner");g=s.style;n?this.appendChild(s):this.insertBefore(s,this.firstChild);
n&&"auto"!=z?("static"==a.css(this,"position")&&(this.style.position="relative"),g.position="absolute",g.bottom=g.left=g.padding=g.margin="0",B?g.setExpression("width","this.parentNode.offsetWidth"):g.width="100%"):!n&&d?("static"==a.css(this,"position")&&(this.style.position="relative"),g.position="absolute",g.top=g.left=g.right=g.padding=g.margin="0",B?(q=(parseInt(a.css(this,"borderLeftWidth"),10)||0)+(parseInt(a.css(this,"borderRightWidth"),10)||0),g.setExpression("width","this.parentNode.offsetWidth - "+
q+'+ "px"')):g.width="100%"):(g.position="relative",g.margin=n?u-m+"px -"+t+"px -"+u+"px -"+y+"px":"-"+l+"px -"+t+"px "+(l-m)+"px -"+y+"px");for(g=0;g<m;g++)q=Math.max(0,b(C,g,m)),x=p.cloneNode(!1),x.style.borderWidth="0 "+(h[w+"R"]?q:0)+"px 0 "+(h[w+"L"]?q:0)+"px",n?s.appendChild(x):s.insertBefore(x,s.firstChild);if(E&&a.support.boxModel&&(!n||!r))for(v in h)if(h[v]&&(!n||"TL"!=v&&"TR"!=v)&&(n||"BL"!=v&&"BR"!=v)){g={position:"absolute",border:"none",margin:0,padding:0,overflow:"hidden",backgroundColor:p.style.borderColor};
q=a("<div/>").css(g).css({width:m+"px",height:"1px"});switch(v){case "TL":q.css({bottom:0,left:0});break;case "TR":q.css({bottom:0,right:0});break;case "BL":q.css({top:0,left:0});break;case "BR":q.css({top:0,right:0})}s.appendChild(q[0]);g=a("<div/>").css(g).css({top:0,bottom:0,width:"1px",height:m+"px"});switch(v){case "TL":g.css({left:m});break;case "TR":g.css({right:m});break;case "BL":g.css({left:m});break;case "BR":g.css({right:m})}s.appendChild(g[0])}}})};a.fn.uncorner=function(){(k||e||f)&&
this.css(k?"border-radius":e?"-moz-border-radius":"-webkit-border-radius",0);a("div.jquery-corner",this).remove();return this};a.fn.corner.defaults={useNative:!0,metaAttr:"data-corner"}})(jQuery);